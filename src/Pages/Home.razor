@page "/"
@using Humanizer

<MudGrid Class="px-4 py-4">
    <MudItem xs="12" sm="12" md="12" lg="12" xl="12">
        <MudCard>
            <MudCardContent>
                <MudGrid>
                    <MudItem xs="10" sm="10" md="10" lg="10" xl="10">
                        <MudText Typo="Typo.h6" Class="px-4">@Localizer!["EnableNotifications"]</MudText>
                    </MudItem>
                    <MudItem xs="2" sm="2" md="2" lg="2" xl="2">
                        <MudSwitch ThumbIcon="@NotificationIcon" T="bool" @bind-Value="IsNotificationEnabled"
                            Color="Color.Primary" />
                    </MudItem>
                </MudGrid>
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem xs="12" sm="12" md="12" lg="12" xl="12">
        <MudStack>
            <MudText Typo="Typo.h6">@Localizer!["AverageGroup"]</MudText>
            <MudStack Row="true">
                @if (_groupAverage.Any())
                {
                    @foreach (var group in _groupAverage)
                    {
                        <MudCard>
                            <MudCardHeader>
                                <CardHeaderAvatar>
                                    <MudAvatar>
                                        <MudIcon Icon="@Icons.Material.Filled.Inventory" />
                                    </MudAvatar>
                                </CardHeaderAvatar>
                                <CardHeaderContent>
                                    <MudText Typo="Typo.body1">@(string.IsNullOrEmpty(group.Name) ? Localizer!["Nogroup"] :
                                                                        group.Name.Humanize())</MudText>
                                </CardHeaderContent>
                            </MudCardHeader>
                            <MudCardContent>
                                <MudText Typo="Typo.body1">@Localizer!["Average"]: @group.AverageTime dias <MudIcon Icon="@Icons.Material.Filled.AccessTimeFilled" /></MudText>
                                <MudText Typo="Typo.body1">@Localizer!["AveragePrice"]: @group.AveragePrice.ToString("C") <MudIcon Icon="@Icons.Material.Filled.AttachMoney" /></MudText>
                                <MudText Typo="Typo.body1">@Localizer!["PriceVariation"]: @group.PriceVariation.ToString("F2")%</MudText>
                            </MudCardContent>
                        </MudCard>
                    }
                }
                else
                {
                    <MudText Typo="Typo.h6" Class="px-4">@Localizer!["NoData"]</MudText>
                }
            </MudStack>
        </MudStack>
    </MudItem>
</MudGrid>
